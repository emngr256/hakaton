<template>
  <div class="language-switcher">
    <button 
      v-for="lang in languages" 
      :key="lang.code"
      @click="setLanguage(lang.code)"
      :class="{ 'active': currentLang === lang.code }"
      class="px-4 py-2 border rounded-lg transition-all hover:bg-gray-100"
    >
      {{ lang.flag }} {{ lang.name }}
    </button>
  </div>
</template>

<script setup lang="ts">
const currentLang = ref('ru')

const languages = [
  { code: 'ru', name: '–†—É—Å—Å–∫–∏–π', flag: 'üá∑üá∫' },
  { code: 'en', name: 'English', flag: 'üá∫üá∏' },
  { code: 'kk', name: '“ö–∞–∑–∞“õ—à–∞', flag: 'üá∞üáø' }
]

const setLanguage = (lang: string) => {
  currentLang.value = lang
  // –ó–¥–µ—Å—å –ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  console.log('–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞:', lang)
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
defineExpose({
  currentLang,
  setLanguage
})
</script>

<style scoped>
.active {
  background-color: #3b82f6;
  color: white;
}
</style>